<div class="col-md-4">
    <div class="form-group">
        <label>Sales Order (QC Fail)</label>
        @*@Html.EditorFor(model => model.SO, new { htmlAttributes = new { @class = "form-control", placeholder = "SO", @Id = "SO", @autocomplete = "off" } })*@
        @Html.Editor("SalesOrder", "SalesOrder", new { htmlAttributes = new { @class = "form-control", placeholder = "SO", @Id = "SalesOrder", @autocomplete = "off" } })
    </div>
</div>

<script type="text/javascript">
    //AutoComplete for SGStyle
    $(function () {
        $("#SalesOrder").typeahead({
            hint: true,
            highlight: true,
            minLength: 3,
            source: function (request, response) {
                $.ajax({
                    url: '@Url.Action("AutoCompleteSOFail", "Rejection")',
                    data: "{ 'prefix': '" + request + "'}",
                    dataType: "json",
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    success: function (data) {
                        items = [];
                        map = {};
                        $.each(data, function (i, item) {
                            var id = item.value;
                            var name = item.text;
                            map[name] = { id: id, name: name };
                            items.push(name);
                        });
                        response(items);
                        $(".dropdown-menu").css("height", "auto");
                    }
                });
            },
            updater: function (item) {
                $.ajax({
                    url: '@Url.Action("getQCFailStockDetailsFromSO", "Rejection")',
                    type: "POST",
                    data: { SO: map[item].id },
                    success: function (data) {
                        $("#divQCRejectPartialView").html(data);;
                    }
                });

                return item;
            }
        });
    });
</script>