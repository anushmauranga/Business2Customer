@model  IEnumerable<Emblishment_Management_System.Models.emsRejectionT>
@using Emblishment_Management_System.Common

    <table id="table" class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>Action</th>
                <th style="display: none;">#</th>
                <th>Rejection No</th>
                <th>SO</th>
                <th>SG Style</th>
                <th>SG Component</th>
                <th>Stock Type</th>
                <th>QC Passed</th>
                <th>Docket</th>
                <th>Size</th>
                <th>Qty</th>
                <th>Reverse Qty</th>
            </tr>
        </thead>
        <tbody>
            @foreach (Emblishment_Management_System.Models.emsRejectionT emsRejection in Model)
            {
                <tr>
                    <td>
                        <div>
                            @*<button type="button" class="btn btn-warning btn-xs glyphicon glyphicon-edit EditBtn modal-link" id="btnEdit"></button>*@
                           
                            @Html.ActionLink(" ", null, null, null, new { @class = "EditBtn btn btn-warning btn-xs glyphicon glyphicon-edit modal-link" })
                            <button type="button" class="btn btn-danger btn-xs glyphicon glyphicon-trash DeleteBtn" id="btnDelete"></button>
                        </div>
                    </td>
                    <td id="RowId" class="clsRowId" style="display: none;">@emsRejection.ID </td>
                    <td>@emsRejection.RejectNo</td>
                    <td>@emsRejection.SO</td>
                    <td>@emsRejection.SGStyle</td>
                    <td>@emsRejection.Description</td>
                    <td>@emsRejection.StockDescription</td>
                     @if(emsRejection.QCPassed)
                     {
                         <td>Yes</td>
                     }
                     else
                     {
                         <td>No</td>
                     }
                    <td>@emsRejection.Docket</td>
                    <td>@emsRejection.Size</td>
                    <td>@emsRejection.Qty</td>
                    <td>@emsRejection.RejectionQty</td>
                </tr>
                }
        </tbody>

    </table>

    <script type="text/javascript">
        //Item Edit
        $(document).ready(function () {
            $(".EditBtn").click(function () {

                var $row = $(this).closest("tr");
                var RowNo = $row.find(".clsRowId").text();

                $.ajax({
                    url: '@Url.Action("ReverseItem", "Rejection")',
                    type: "POST",
                    data: { ID: RowNo },
                    success: function (result) {
                        $('#modal-container').html(result);
                    }
                });


            });
        });

        //Item Delete
        $(document).ready(function () {
            $(".DeleteBtn").click(function () {

                $('#frmRejection').submit(function (evt) {
                    evt.preventDefault();
                    window.history.back();
                });

                var $row = $(this).closest("tr");
                var RowNo = $row.find(".clsRowId").text();

                $.ajax({
                    url: '@Url.Action("RemoveReverseItem", "Rejection")',
                    type: "POST",
                    data: { ID: RowNo },
                    success: function (result) {
                        $("#divQCRejectReversePartialView").html(result);
                    }
                });


            });
        });
    </script>

    @if (TempData["Message"] != null)
    {
        MessageBox UserMessage = (MessageBox)TempData["Message"];
        @Html.Raw("<script>bootbox.alert('" + UserMessage.Message + "');</script>");
    }
